/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 216 "/usr/lib/gcc/x86_64-redhat-linux/5.1.1/include/stddef.h"
typedef unsigned long size_t;
#line 40 "/usr/lib/gcc/x86_64-redhat-linux/5.1.1/include/stdarg.h"
typedef __builtin_va_list __gnuc_va_list;
#line 79 "/usr/include/stdio.h"
typedef __gnuc_va_list va_list;
#line 8 "error.h"
struct __anonstruct_error_t_6 {
   int error_code ;
   char desc[128] ;
};
#line 8 "error.h"
typedef struct __anonstruct_error_t_6 error_t;
#line 398 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) size_t ( __attribute__((__nonnull__(1), __leaf__)) strlen)(char const   *__s )  __attribute__((__pure__)) ;
#line 390 "/usr/include/stdio.h"
extern  __attribute__((__nothrow__)) int ( /* format attribute */  vsnprintf)(char * __restrict  __s ,
                                                                              size_t __maxlen ,
                                                                              char const   * __restrict  __format ,
                                                                              __gnuc_va_list __arg ) ;
#line 10 "daemon_assert.h"
extern void daemon_assert_fail(char const   *assertion , char const   *file , int line ,
                               char const   *function ) ;
#line 14 "error.h"
void error_init(error_t *err , int error_code , char const   *desc_fmt  , ...) ;
#line 15
int error_get_error_code(error_t const   *err ) ;
#line 16
char const   *error_get_desc(error_t const   *err ) ;
#line 20 "error.c"
static int invariant(error_t const   *err ) ;
#line 22 "error.c"
void error_init(error_t *err , int error_code , char const   *desc_fmt  , ...) 
{ 
  va_list args ;
  int tmp ;

  {
#line 26
  if (! ((unsigned long )err != (unsigned long )((void *)0))) {
#line 26
    daemon_assert_fail("err != ((void *)0)", "error.c", 26, "error_init");
  }
#line 27
  if (! (error_code >= 0)) {
#line 27
    daemon_assert_fail("error_code >= 0", "error.c", 27, "error_init");
  }
#line 28
  if (! ((unsigned long )desc_fmt != (unsigned long )((void *)0))) {
#line 28
    daemon_assert_fail("desc_fmt != ((void *)0)", "error.c", 28, "error_init");
  }
#line 30
  err->error_code = error_code;
#line 31
  __builtin_va_start(args, desc_fmt);
#line 32
  vsnprintf((char */* __restrict  */)(err->desc), sizeof(err->desc), (char const   */* __restrict  */)desc_fmt,
            args);
#line 33
  __builtin_va_end(args);
#line 35
  tmp = invariant((error_t const   *)err);
#line 35
  if (! tmp) {
#line 35
    daemon_assert_fail("invariant(err)", "error.c", 35, "error_init");
  }
#line 36
  return;
}
}
#line 38 "error.c"
int error_get_error_code(error_t const   *err ) 
{ 
  int tmp_ssa_1 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;

  {
  {
#line 40
  tmp_ssa_1 = invariant(err);
  }
#line 40
  if (! tmp_ssa_1) {
    {
#line 40
    daemon_assert_fail("invariant(err)", "error.c", 40, "error_get_error_code");
    }
  }
  {
#line 41
  __cil_tmp5 = *((int *)err);
#line 41
  __cil_tmp4 = (int )__cil_tmp5;
#line 41
  return (__cil_tmp4);
  }
}
}
#line 44 "error.c"
char const   *error_get_desc(error_t const   *err ) 
{ 
  int tmp_ssa_1 ;
  char const   *__cil_tmp4 ;
  unsigned char *__cil_tmp5 ;
  char (*__cil_tmp6)[128] ;
  char *__cil_tmp7 ;

  {
  {
#line 46
  tmp_ssa_1 = invariant(err);
  }
#line 46
  if (! tmp_ssa_1) {
    {
#line 46
    daemon_assert_fail("invariant(err)", "error.c", 46, "error_get_desc");
    }
  }
  {
#line 47
  __cil_tmp5 = (unsigned char *)err + 4;
#line 47
  __cil_tmp6 = (char (*)[128])__cil_tmp5;
#line 47
  __cil_tmp7 = *__cil_tmp6;
#line 47
  __cil_tmp4 = (char const   *)__cil_tmp7;
#line 47
  return (__cil_tmp4);
  }
}
}
#line 51 "error.c"
static int invariant(error_t const   *err ) 
{ 
  size_t tmp_ssa_1 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  unsigned char *__cil_tmp8 ;
  char (*__cil_tmp9)[128] ;
  char *__cil_tmp10 ;

  {
  {
#line 53
  __cil_tmp4 = (unsigned long )err == (unsigned long )((void *)0);
#line 53
  if (__cil_tmp4) {
#line 54
    return (0);
  } else {
    {
#line 56
    __cil_tmp7 = *((int *)err);
#line 56
    __cil_tmp5 = __cil_tmp7 < 0;
#line 56
    if (__cil_tmp5) {
#line 57
      return (0);
    } else {
      {
#line 59
      __cil_tmp8 = (unsigned char *)err + 4;
#line 59
      __cil_tmp9 = (char (*)[128])__cil_tmp8;
#line 59
      __cil_tmp10 = *__cil_tmp9;
#line 59
      tmp_ssa_1 = strlen((char const   *)__cil_tmp10);
      }
      {
#line 59
      __cil_tmp6 = tmp_ssa_1 >= sizeof(*((char (*)[128])((unsigned char *)err + 4)));
#line 59
      if (__cil_tmp6) {
#line 60
        return (0);
      } else {
#line 62
        return (1);
      }
      }
    }
    }
  }
  }
}
}
