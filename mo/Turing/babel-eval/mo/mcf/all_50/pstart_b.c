#include <stdbool.h>
 static int label = -1;/* Generated by CIL v. 1.5.1 */
/* print_CIL_Input is true */

#include <gprolog.h>

#line 68 "defines.h"
typedef long flow_t;
#line 69 "defines.h"
typedef long cost_t;
#line 99
struct node;
#line 99
struct node;
#line 99 "defines.h"
typedef struct node node_t;
#line 100 "defines.h"
typedef struct node *node_p;
#line 102
struct arc;
#line 102
struct arc;
#line 102 "defines.h"
typedef struct arc arc_t;
#line 103 "defines.h"
typedef struct arc *arc_p;
#line 107 "defines.h"
struct node {
   cost_t potential ;
   int orientation ;
   node_p child ;
   node_p pred ;
   node_p sibling ;
   node_p sibling_prev ;
   arc_p basic_arc ;
   arc_p firstout ;
   arc_p firstin ;
   arc_p arc_tmp ;
   flow_t flow ;
   long depth ;
   int number ;
   int time ;
};
#line 126 "defines.h"
struct arc {
   cost_t cost ;
   node_p tail ;
   node_p head ;
   int ident ;
   arc_p nextout ;
   arc_p nextin ;
   flow_t flow ;
   cost_t org_cost ;
};
#line 138 "defines.h"
struct network {
   char inputfile[200] ;
   char clustfile[200] ;
   long n ;
   long n_trips ;
   long max_m ;
   long m ;
   long m_org ;
   long m_impl ;
   long max_residual_new_m ;
   long max_new_m ;
   long primal_unbounded ;
   long dual_unbounded ;
   long perturbed ;
   long feasible ;
   long eps ;
   long opt_tol ;
   long feas_tol ;
   long pert_val ;
   long bigM ;
   double optcost ;
   cost_t ignore_impl ;
   node_p nodes ;
   node_p stop_nodes ;
   arc_p arcs ;
   arc_p stop_arcs ;
   arc_p dummy_arcs ;
   arc_p stop_dummy ;
   long iterations ;
   long bound_exchanges ;
   long checksum ;
};
#line 138 "defines.h"
typedef struct network network_t;
#line 30 "pstart.h"
long primal_start_artificial(network_t *net ) ;
#line 31
void primal_start_artificial_cil_lr_1(network_t **__cil_ap_net , node_t **__cil_ap_node ,
                                      node_t **__cil_ap_root , arc_t *arc , void *stop ) ;
#line 33
void primal_start_artificial_cil_lr_2(node_t **__cil_ap_node , node_t **__cil_ap_root ,
                                      arc_t *arc , void *stop ) ;
   long  babel_wrapper_primal_start_artificial(network_t ** __cil_pp_net, node_t ** __cil_pp_node, node_t ** __cil_pp_root, network_t ** __cil_fp_net, node_t ** __cil_fp_node, node_t ** __cil_fp_root, network_t * net)                           // function name insert
      {
        // wrapper for function primal_start_artificial        // function name insert
         long  return_value; //  return value type (how about array type)

        //rountine code
        int func;
        PlTerm arg[8];    //  function variable + return value insert
        PlBool res;

        func = Pl_Find_Atom("primal_start_artificial"); // function name insert

      //routine code
        Pl_Query_Begin(PL_FALSE);

      //prepare parameters
      //partial routine code, pass in parameter  // we need to init arguments and return value
      arg[0] = Pl_Mk_Integer(__cil_pp_net);
arg[1] = Pl_Mk_Integer(__cil_pp_node);
arg[2] = Pl_Mk_Integer(__cil_pp_root);
arg[3] = Pl_Mk_Integer(__cil_fp_net);
arg[4] = Pl_Mk_Integer(__cil_fp_node);
arg[5] = Pl_Mk_Integer(__cil_fp_root);
arg[6] = Pl_Mk_Integer(net);

      //routine code, reserve a place for return value
      arg[7] = Pl_Mk_Variable();

      //partial routine code, 2 is not routine. (number of arguments) + 1
        res = Pl_Query_Call(func, 8, arg);          // insert (variable+return value)

      //get return value, partial routine code, 1 is not routine
        return_value = Pl_Rd_Integer(arg[7]);        // insert ()

      //routine code
        Pl_Query_End(PL_KEEP_FOR_PROLOG);

      //routine code
        return return_value;
        }
      
#line 29 "pstart.c"
long primal_start_artificial(network_t *net ) 
{ 
  node_t *node ;
  node_t *root ;
  network_t **__cil_pp_net ;
  node_t **__cil_pp_node ;
  node_t **__cil_pp_root ;
  network_t **__cil_fp_net ;
  node_t **__cil_fp_node ;
  node_t **__cil_fp_root ;
  node_t *node_ssa_1 ;
  node_t *root_ssa_1 ;
  node_t *node_ssa_2 ;
  void *stop_ssa_1 ;
  arc_t *arc_ssa_1 ;
  network_t *net_ssa_1 ;
  node_t *node_ssa_3 ;
  node_t *root_ssa_2 ;
  arc_t *arc_ssa_2 ;
  void *stop_ssa_2 ;
  node_t *node_ssa_4 ;
  node_t *root_ssa_3 ;
  node_t *node_ssa_5 ;
  node_t *root_ssa_4 ;
  unsigned char *__cil_tmp26 ;
  node_p *__cil_tmp27 ;
  unsigned char *__cil_tmp28 ;
  arc_p *__cil_tmp29 ;
  unsigned char *__cil_tmp30 ;
  node_p *__cil_tmp31 ;
  unsigned char *__cil_tmp32 ;
  node_p *__cil_tmp33 ;
  unsigned char *__cil_tmp34 ;
  node_p *__cil_tmp35 ;
  unsigned char *__cil_tmp36 ;
  node_p *__cil_tmp37 ;
  unsigned char *__cil_tmp38 ;
  long *__cil_tmp39 ;
  long __cil_tmp40 ;
  unsigned char *__cil_tmp41 ;
  long *__cil_tmp42 ;
  unsigned char *__cil_tmp43 ;
  int *__cil_tmp44 ;
  unsigned char *__cil_tmp45 ;
  flow_t *__cil_tmp46 ;
  unsigned char *__cil_tmp47 ;
  arc_p *__cil_tmp48 ;
  arc_p __cil_tmp49 ;
  unsigned char *__cil_tmp50 ;
  arc_p *__cil_tmp51 ;
  unsigned char *__cil_tmp52 ;
  arc_p *__cil_tmp53 ;
  unsigned char *__cil_tmp54 ;
  node_p *__cil_tmp55 ;
  node_p __cil_tmp56 ;
  unsigned char *__cil_tmp57 ;
  node_p *__cil_tmp58 ;
  unsigned char *__cil_tmp59 ;
  node_p *__cil_tmp60 ;
  cost_t *mem_59 ;

  {
#line 33
  __cil_fp_root = & root;
#line 33
  __cil_fp_node = & node;
#line 33
  __cil_fp_net = & net;
#line 33
  __cil_pp_root = & root;
#line 33
  __cil_pp_node = & node;
#line 33
  __cil_pp_net = & net;
#line 33
  return babel_wrapper_primal_start_artificial(__cil_pp_net, __cil_pp_node, __cil_pp_root,
                                               __cil_fp_net, __cil_fp_node, __cil_fp_root,
                                               net);
#line 33
  __cil_pp_net = & net;
#line 34
  __cil_pp_node = & node;
#line 35
  __cil_pp_root = & root;
#line 36
  __cil_fp_net = & net;
#line 37
  __cil_fp_node = & node;
#line 38
  __cil_fp_root = & root;
#line 40
  __cil_tmp26 = (unsigned char *)net + 552;
#line 40
  __cil_tmp27 = (node_p *)__cil_tmp26;
#line 40
  node_ssa_1 = *__cil_tmp27;
#line 40
  root_ssa_1 = node_ssa_1;
#line 40
  node_ssa_2 = node_ssa_1 + 1;
#line 41
  __cil_tmp28 = (unsigned char *)root_ssa_1 + 48;
#line 41
  __cil_tmp29 = (arc_p *)__cil_tmp28;
#line 41
  *__cil_tmp29 = (arc_p )0;
#line 42
  __cil_tmp30 = (unsigned char *)root_ssa_1 + 24;
#line 42
  __cil_tmp31 = (node_p *)__cil_tmp30;
#line 42
  *__cil_tmp31 = (node_p )0;
#line 43
  __cil_tmp32 = (unsigned char *)root_ssa_1 + 16;
#line 43
  __cil_tmp33 = (node_p *)__cil_tmp32;
#line 43
  *__cil_tmp33 = node_ssa_2;
#line 44
  __cil_tmp34 = (unsigned char *)root_ssa_1 + 32;
#line 44
  __cil_tmp35 = (node_p *)__cil_tmp34;
#line 44
  *__cil_tmp35 = (node_p )0;
#line 45
  __cil_tmp36 = (unsigned char *)root_ssa_1 + 40;
#line 45
  __cil_tmp37 = (node_p *)__cil_tmp36;
#line 45
  *__cil_tmp37 = (node_p )0;
#line 46
  __cil_tmp38 = (unsigned char *)net + 400;
#line 46
  __cil_tmp39 = (long *)__cil_tmp38;
#line 46
  __cil_tmp40 = *__cil_tmp39;
#line 46
  __cil_tmp41 = (unsigned char *)root_ssa_1 + 88;
#line 46
  __cil_tmp42 = (long *)__cil_tmp41;
#line 46
  *__cil_tmp42 = __cil_tmp40 + 1L;
#line 47
  __cil_tmp43 = (unsigned char *)root_ssa_1 + 8;
#line 47
  __cil_tmp44 = (int *)__cil_tmp43;
#line 47
  *__cil_tmp44 = 0;
#line 48
  mem_59 = (cost_t *)root_ssa_1;
#line 48
  *mem_59 = -100000000L;
#line 49
  __cil_tmp45 = (unsigned char *)root_ssa_1 + 80;
#line 49
  __cil_tmp46 = (flow_t *)__cil_tmp45;
#line 49
  *__cil_tmp46 = (flow_t )0;
#line 51
  __cil_tmp47 = (unsigned char *)net + 576;
#line 51
  __cil_tmp48 = (arc_p *)__cil_tmp47;
#line 51
  __cil_tmp49 = *__cil_tmp48;
#line 51
  stop_ssa_1 = (void *)__cil_tmp49;
#line 52
  __cil_tmp50 = (unsigned char *)net + 568;
#line 52
  __cil_tmp51 = (arc_p *)__cil_tmp50;
#line 52
  arc_ssa_1 = *__cil_tmp51;
#line 55
  *__cil_fp_net = net;
#line 56
  *__cil_fp_node = node_ssa_2;
#line 57
  *__cil_fp_root = root_ssa_1;
#line 52
  primal_start_artificial_cil_lr_1(__cil_pp_net, __cil_pp_node, __cil_pp_root, arc_ssa_1,
                                   stop_ssa_1);
#line 54
  net_ssa_1 = *__cil_fp_net;
#line 55
  node_ssa_3 = *__cil_fp_node;
#line 56
  root_ssa_2 = *__cil_fp_root;
#line 56
  __cil_tmp52 = (unsigned char *)net_ssa_1 + 584;
#line 56
  __cil_tmp53 = (arc_p *)__cil_tmp52;
#line 56
  arc_ssa_2 = *__cil_tmp53;
#line 57
  __cil_tmp54 = (unsigned char *)net_ssa_1 + 560;
#line 57
  __cil_tmp55 = (node_p *)__cil_tmp54;
#line 57
  __cil_tmp56 = *__cil_tmp55;
#line 57
  stop_ssa_2 = (void *)__cil_tmp56;
#line 60
  *__cil_fp_node = node_ssa_3;
#line 61
  *__cil_fp_root = root_ssa_2;
#line 57
  primal_start_artificial_cil_lr_2(__cil_pp_node, __cil_pp_root, arc_ssa_2, stop_ssa_2);
#line 58
  node_ssa_4 = *__cil_fp_node;
#line 59
  root_ssa_3 = *__cil_fp_root;
#line 76
  node_ssa_5 = node_ssa_4 - 1;
#line 76
  root_ssa_4 = root_ssa_3 + 1;
#line 77
  __cil_tmp57 = (unsigned char *)node_ssa_5 + 32;
#line 77
  __cil_tmp58 = (node_p *)__cil_tmp57;
#line 77
  *__cil_tmp58 = (node_p )0;
#line 78
  __cil_tmp59 = (unsigned char *)root_ssa_4 + 40;
#line 78
  __cil_tmp60 = (node_p *)__cil_tmp59;
#line 78
  *__cil_tmp60 = (node_p )0;
#line 80
  return (0L);
}
}
#line 83 "pstart.c"
void primal_start_artificial_cil_lr_1(network_t **__cil_ap_net , node_t **__cil_ap_node ,
                                      node_t **__cil_ap_root , arc_t *arc , void *stop ) 
{ 
  arc_t *arc_ssa_1 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  unsigned char *__cil_tmp9 ;
  int *__cil_tmp10 ;
  int __cil_tmp11 ;
  unsigned char *__cil_tmp12 ;
  int *__cil_tmp13 ;

  {
#line 52
  __cil_tmp7 = (unsigned long )arc != (unsigned long )((arc_t *)stop);
#line 52
  if (__cil_tmp7 != 0) {
#line 53
    __cil_tmp9 = (unsigned char *)arc + 24;
#line 53
    __cil_tmp10 = (int *)__cil_tmp9;
#line 53
    __cil_tmp11 = *__cil_tmp10;
#line 53
    __cil_tmp8 = __cil_tmp11 != -1;
#line 53
    if (__cil_tmp8 != 0) {
#line 54
      __cil_tmp12 = (unsigned char *)arc + 24;
#line 54
      __cil_tmp13 = (int *)__cil_tmp12;
#line 54
      *__cil_tmp13 = 1;
    } else {

    }
#line 52
    arc_ssa_1 = arc + 1;
#line 55
    primal_start_artificial_cil_lr_1(__cil_ap_net, __cil_ap_node, __cil_ap_root, arc_ssa_1,
                                     stop);
#line 58
    return;
  } else {
#line 60
    return;
  }
#line 52
  arc_ssa_1 = arc + 1;
#line 55
  primal_start_artificial_cil_lr_1(__cil_ap_net, __cil_ap_node, __cil_ap_root, arc_ssa_1,
                                   stop);
#line 58
  return;
}
}
#line 61 "pstart.c"
void primal_start_artificial_cil_lr_2(node_t **__cil_ap_node , node_t **__cil_ap_root ,
                                      arc_t *arc , void *stop ) 
{ 
  arc_t *arc_ssa_1 ;
  int __cil_tmp6 ;
  node_t *__cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  node_t *__cil_tmp9 ;
  unsigned char *__cil_tmp10 ;
  unsigned char *__cil_tmp11 ;
  arc_p *__cil_tmp12 ;
  node_t *__cil_tmp13 ;
  unsigned char *__cil_tmp14 ;
  unsigned char *__cil_tmp15 ;
  node_p *__cil_tmp16 ;
  node_t *__cil_tmp17 ;
  unsigned char *__cil_tmp18 ;
  unsigned char *__cil_tmp19 ;
  node_p *__cil_tmp20 ;
  node_t *__cil_tmp21 ;
  node_t *__cil_tmp22 ;
  unsigned char *__cil_tmp23 ;
  unsigned char *__cil_tmp24 ;
  node_p *__cil_tmp25 ;
  node_t *__cil_tmp26 ;
  node_t *__cil_tmp27 ;
  unsigned char *__cil_tmp28 ;
  unsigned char *__cil_tmp29 ;
  node_p *__cil_tmp30 ;
  node_t *__cil_tmp31 ;
  unsigned char *__cil_tmp32 ;
  unsigned char *__cil_tmp33 ;
  long *__cil_tmp34 ;
  unsigned char *__cil_tmp35 ;
  int *__cil_tmp36 ;
  node_t *__cil_tmp37 ;
  unsigned char *__cil_tmp38 ;
  unsigned char *__cil_tmp39 ;
  int *__cil_tmp40 ;
  node_t *__cil_tmp41 ;
  cost_t *__cil_tmp42 ;
  unsigned char *__cil_tmp43 ;
  node_p *__cil_tmp44 ;
  unsigned char *__cil_tmp45 ;
  node_p *__cil_tmp46 ;
  node_t *__cil_tmp47 ;
  unsigned char *__cil_tmp48 ;
  unsigned char *__cil_tmp49 ;
  flow_t *__cil_tmp50 ;
  node_t *__cil_tmp51 ;
  cost_t *mem_52 ;

  {
#line 57
  __cil_tmp7 = *__cil_ap_node;
#line 57
  __cil_tmp8 = (unsigned long )__cil_tmp7;
#line 57
  __cil_tmp6 = __cil_tmp8 != (unsigned long )((node_t *)stop);
#line 57
  if (__cil_tmp6 != 0) {
#line 59
    __cil_tmp9 = *__cil_ap_node;
#line 59
    __cil_tmp10 = (unsigned char *)__cil_tmp9;
#line 59
    __cil_tmp11 = __cil_tmp10 + 48;
#line 59
    __cil_tmp12 = (arc_p *)__cil_tmp11;
#line 59
    *__cil_tmp12 = arc;
#line 60
    __cil_tmp13 = *__cil_ap_node;
#line 60
    __cil_tmp14 = (unsigned char *)__cil_tmp13;
#line 60
    __cil_tmp15 = __cil_tmp14 + 24;
#line 60
    __cil_tmp16 = (node_p *)__cil_tmp15;
#line 60
    *__cil_tmp16 = *__cil_ap_root;
#line 61
    __cil_tmp17 = *__cil_ap_node;
#line 61
    __cil_tmp18 = (unsigned char *)__cil_tmp17;
#line 61
    __cil_tmp19 = __cil_tmp18 + 16;
#line 61
    __cil_tmp20 = (node_p *)__cil_tmp19;
#line 61
    *__cil_tmp20 = (node_p )0;
#line 62
    __cil_tmp21 = *__cil_ap_node;
#line 62
    __cil_tmp22 = *__cil_ap_node;
#line 62
    __cil_tmp23 = (unsigned char *)__cil_tmp22;
#line 62
    __cil_tmp24 = __cil_tmp23 + 32;
#line 62
    __cil_tmp25 = (node_p *)__cil_tmp24;
#line 62
    *__cil_tmp25 = __cil_tmp21 + 1;
#line 63
    __cil_tmp26 = *__cil_ap_node;
#line 63
    __cil_tmp27 = *__cil_ap_node;
#line 63
    __cil_tmp28 = (unsigned char *)__cil_tmp27;
#line 63
    __cil_tmp29 = __cil_tmp28 + 40;
#line 63
    __cil_tmp30 = (node_p *)__cil_tmp29;
#line 63
    *__cil_tmp30 = __cil_tmp26 - 1;
#line 64
    __cil_tmp31 = *__cil_ap_node;
#line 64
    __cil_tmp32 = (unsigned char *)__cil_tmp31;
#line 64
    __cil_tmp33 = __cil_tmp32 + 88;
#line 64
    __cil_tmp34 = (long *)__cil_tmp33;
#line 64
    *__cil_tmp34 = 1L;
#line 66
    mem_52 = (cost_t *)arc;
#line 66
    *mem_52 = 100000000L;
#line 67
    __cil_tmp35 = (unsigned char *)arc + 24;
#line 67
    __cil_tmp36 = (int *)__cil_tmp35;
#line 67
    *__cil_tmp36 = 0;
#line 69
    __cil_tmp37 = *__cil_ap_node;
#line 69
    __cil_tmp38 = (unsigned char *)__cil_tmp37;
#line 69
    __cil_tmp39 = __cil_tmp38 + 8;
#line 69
    __cil_tmp40 = (int *)__cil_tmp39;
#line 69
    *__cil_tmp40 = 1;
#line 70
    __cil_tmp41 = *__cil_ap_node;
#line 70
    __cil_tmp42 = (cost_t *)__cil_tmp41;
#line 70
    *__cil_tmp42 = (cost_t )0;
#line 71
    __cil_tmp43 = (unsigned char *)arc + 8;
#line 71
    __cil_tmp44 = (node_p *)__cil_tmp43;
#line 71
    *__cil_tmp44 = *__cil_ap_node;
#line 72
    __cil_tmp45 = (unsigned char *)arc + 16;
#line 72
    __cil_tmp46 = (node_p *)__cil_tmp45;
#line 72
    *__cil_tmp46 = *__cil_ap_root;
#line 73
    __cil_tmp47 = *__cil_ap_node;
#line 73
    __cil_tmp48 = (unsigned char *)__cil_tmp47;
#line 73
    __cil_tmp49 = __cil_tmp48 + 80;
#line 73
    __cil_tmp50 = (flow_t *)__cil_tmp49;
#line 73
    *__cil_tmp50 = (flow_t )0;
#line 57
    arc_ssa_1 = arc + 1;
#line 57
    __cil_tmp51 = *__cil_ap_node;
#line 57
    *__cil_ap_node = __cil_tmp51 + 1;
#line 60
    primal_start_artificial_cil_lr_2(__cil_ap_node, __cil_ap_root, arc_ssa_1, stop);
#line 62
    return;
  } else {
#line 64
    return;
  }
}
}
#include <gprolog.h>

PlBool babel_ptrR(PlLong* p,  PlLong* star_p, PlLong len)
{

	if (star_p == 0)
	    return PL_FALSE;
	else
	{
		switch(len)
		{
		    case 1:
		    	*p = *(unsigned char*)star_p;
		    	break;
		    case 2:
		    	*p = *(short*)star_p;
		    	break;
		    case 4:
		    	*p = *(int*)star_p;
		    	break;
		    case 8:
		    	*p = *(long long*)star_p;
		    	break;
		    default :
		    	printf("undefined exp length in babel_ptrR\n");
		}
	}

		return PL_TRUE;
}

PlBool babel_ptrR_byte(PlLong* p,  PlLong* star_p, PlLong len)
{

	if (star_p == 0)
	    return PL_FALSE;
	else
	{
		switch(len)
		{
		    case 1:
		    	*p = *(unsigned char*)star_p;
		    	break;
		    case 2:
		    	*p = *(short*)star_p;
		    	break;
		    case 4:
		    	*p = *(int*)star_p;
		    	break;
		    case 8:
		    	*p = *(long long*)star_p;
		    	break;
		    default :
		    	printf("undefined exp length in babel_ptrR\n");
		}
	}

	return PL_TRUE;
}

PlBool babel_ptrE(PlLong* p,  PlLong e, PlLong len)
{
	if (p == 0)
	    return PL_FALSE;

	switch(len)
		{
		    case 1:
		    	*(unsigned char*)p = (unsigned char)e;
		    	break;
		    case 2:
		    	*(short*) p = (short)e;
		    	break;
		    case 4:
		    	*(int*)p = (int)e;
		    	break;
		    case 8:
		    	*(long long*)p = (long long)e;
		    	break;
		    default :
		    	printf("undefined exp length in babel_ptrL\n");
		}

        return PL_TRUE;
}

PlBool babel_ptrFR(double* fp, PlLong ptr, PlLong len)
{
  if(len == 2)
  *(double *)fp = *(double *)ptr;
   else if (len == 1)
  *(float *)fp = *(float *)ptr;
  else
  return PL_FALSE;

  return PL_TRUE;
}

PlBool babel_ptrFW(PlLong ptr, double f, PlLong len)
{
  if (len == 2)
  *(double *)ptr = f;
   else if (len == 1)
  *(float *)ptr = f;
  else
  return PL_FALSE;
  
  return PL_TRUE;
}

PlBool babel__implicit_primal_start_artificialc_0(network_t ** arg_0, node_t ** arg_1, node_t ** arg_2, arc_t * arg_3, void * arg_4) 
{
primal_start_artificial_cil_lr_1(arg_0, arg_1, arg_2, arg_3, arg_4);
return PL_TRUE;
}
PlBool babel__implicit_primal_start_artificialc_1(node_t ** arg_0, node_t ** arg_1, arc_t * arg_2, void * arg_3) 
{
primal_start_artificial_cil_lr_2(arg_0, arg_1, arg_2, arg_3);
return PL_TRUE;
}
